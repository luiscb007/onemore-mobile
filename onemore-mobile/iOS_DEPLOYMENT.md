# Native iOS Deployment Guide

## Prerequisites

Before you begin, make sure you have:

1. **Apple Developer Account** ($99/year)
   - Sign up at https://developer.apple.com
   
2. **Expo Account** (Free)
   - Sign up at https://expo.dev

3. **EAS CLI** (Expo Application Services)
   - Already configured in your Replit workspace

## Step 1: Initialize EAS

From the Replit workspace dropdown menu:

1. Select **"EAS init"**
2. Log in to your Expo account
3. Create a new project or select an existing one

## Step 2: Configure Your Bundle Identifier

The app is pre-configured with bundle identifier: `com.onemore.app`

**To change it** (if needed):
- Edit `onemore-mobile/app.json`
- Update the `ios.bundleIdentifier` field
- Use format: `com.yourcompany.yourapp`

## Step 3: Build iOS App

### Option A: Using Replit Dropdown (Recommended)

1. Select **"EAS publish preview iOS"** from dropdown
2. Enter your bundle identifier: `com.onemore.app`
3. Log in to App Store Connect when prompted
4. Select your Apple Developer team
5. Generate certificates when asked (select "Yes")

### Option B: Using Terminal

```bash
cd onemore-mobile
eas build --platform ios --profile preview
```

## Step 4: Register Your Device (For Testing)

1. When prompted, select **"website"** to register your device
2. Scan the QR code with your iPhone
3. Download and install the development profile
4. Go to Settings > General > VPN & Device Management
5. Trust the developer profile

## Step 5: Wait for Build

- Build takes **10-15 minutes**
- Check progress at https://expo.dev (Builds tab)
- You'll receive an email when complete

## Step 6: Install on Your iPhone

1. Scan the installation QR code from Expo dashboard
2. Select **"Install"**
3. Go to Settings > Privacy & Security
4. Enable **"Developer Mode"**
5. Restart your iPhone
6. Open the OneMore app

## Production Build (App Store)

To create a production build for App Store submission:

```bash
cd onemore-mobile
eas build --platform ios --profile production
```

Then submit to App Store:

```bash
eas submit --platform ios --profile production
```

## Troubleshooting

### Build Fails
- Check your Apple Developer account is active
- Verify bundle identifier is unique and properly formatted
- Ensure all certificates are valid

### App Won't Install
- Developer Mode must be enabled on iPhone
- Profile must be trusted in Settings
- Device must be registered in your Apple Developer account

### App Crashes on Launch
- Check that all required permissions are approved
- Review crash logs in Xcode or Expo dashboard
- Verify backend API is accessible from your device

## Important Notes

- **Bundle Identifier**: Must be unique across App Store
- **Certificates**: Auto-generated by EAS (no manual setup needed)
- **Backend**: Your API must be publicly accessible for the app to work
- **Updates**: Use `eas update` to push over-the-air updates without new builds

## Next Steps After Deployment

1. **Test thoroughly** on physical iPhone
2. **Create App Store listing** in App Store Connect
3. **Add screenshots and description**
4. **Submit for review** (typically 1-3 days)
5. **Monitor analytics** and user feedback

## Need Help?

- Expo Documentation: https://docs.expo.dev
- EAS Build Guide: https://docs.expo.dev/build/introduction
- App Store Guidelines: https://developer.apple.com/app-store/review/guidelines
